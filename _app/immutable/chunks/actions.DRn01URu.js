import{m as ee,n as ae,E as K,o as w,x as b,C as re,F as ne,G as P,I as fe,J as z,w as L,y as S,K as M,L as Q,M as W,N as ie,O as le,P as B,Q as O,R as F,S as y,T as se,U as te,V as ue,W as ve,z as de,X as ce,Y as oe,Z as _e,_ as he,a0 as G,a1 as Ee,v as pe,a2 as Te,e as Ae,a3 as Ie,j as xe,a4 as me}from"./runtime.BMoFuKKA.js";function Se(s,e){return e}function Ce(s,e,a,f){for(var u=[],v=e.length,i=0;i<v;i++)se(e[i].e,u,!0);var p=v>0&&u.length===0&&a!==null;if(p){var o=a.parentNode;te(o),o.append(a),f.clear(),C(s,e[0].prev,e[v-1].next)}ue(u,()=>{for(var A=0;A<v;A++){var c=e[A];p||(f.delete(c.k),C(s,c.prev,c.next)),ve(c.e,!p)}})}function He(s,e,a,f,u,v=null){var i=s,p={flags:e,items:new Map,first:null},o=(e&K)!==0;if(o){var A=s;i=w?b(de(A)):A.appendChild(ee())}w&&re();var c=null,I=!1;ae(()=>{var x=a(),r=ne(x)?x:x==null?[]:P(x),l=r.length;if(I&&l===0)return;I=l===0;let d=!1;if(w){var N=i.data===fe;N!==(l===0)&&(i=z(),b(i),L(!1),d=!0)}if(w){for(var _=null,h,E=0;E<l;E++){if(S.nodeType===8&&S.data===ce){i=S,d=!0,L(!1);break}var T=r[E],n=f(T,E);h=Z(S,p,_,null,T,n,E,u,e),p.items.set(n,h),_=h}l>0&&b(z())}if(!w){var t=oe;we(r,p,i,u,e,(t.f&M)!==0,f)}v!==null&&(l===0?c?Q(c):c=W(()=>v(i)):c!==null&&ie(c,()=>{c=null})),d&&L(!0),a()}),w&&(i=S)}function we(s,e,a,f,u,v,i,p){var Y,g,q,U;var o=(u&_e)!==0,A=(u&(O|y))!==0,c=s.length,I=e.items,x=e.first,r=x,l,d=null,N,_=[],h=[],E,T,n,t;if(o)for(t=0;t<c;t+=1)E=s[t],T=i(E,t),n=I.get(T),n!==void 0&&((Y=n.a)==null||Y.measure(),(N??(N=new Set)).add(n));for(t=0;t<c;t+=1){if(E=s[t],T=i(E,t),n=I.get(T),n===void 0){var $=r?r.e.nodes_start:a;d=Z($,e,d,d===null?e.first:d.next,E,T,t,f,u),I.set(T,d),_=[],h=[],r=d.next;continue}if(A&&Ne(n,E,t,u),n.e.f&M&&(Q(n.e),o&&((g=n.a)==null||g.unfix(),(N??(N=new Set)).delete(n))),n!==r){if(l!==void 0&&l.has(n)){if(_.length<h.length){var H=h[0],m;d=H.prev;var V=_[0],k=_[_.length-1];for(m=0;m<_.length;m+=1)J(_[m],H,a);for(m=0;m<h.length;m+=1)l.delete(h[m]);C(e,V.prev,k.next),C(e,d,V),C(e,k,H),r=H,d=k,t-=1,_=[],h=[]}else l.delete(n),J(n,r,a),C(e,n.prev,n.next),C(e,n,d===null?e.first:d.next),C(e,d,n),d=n;continue}for(_=[],h=[];r!==null&&r.k!==T;)(v||!(r.e.f&M))&&(l??(l=new Set)).add(r),h.push(r),r=r.next;if(r===null)continue;n=r}_.push(n),d=n,r=n.next}if(r!==null||l!==void 0){for(var R=l===void 0?[]:P(l);r!==null;)(v||!(r.e.f&M))&&R.push(r),r=r.next;var D=R.length;if(D>0){var j=u&K&&c===0?a:null;if(o){for(t=0;t<D;t+=1)(q=R[t].a)==null||q.measure();for(t=0;t<D;t+=1)(U=R[t].a)==null||U.fix()}Ce(e,R,j,I)}}o&&le(()=>{var X;if(N!==void 0)for(n of N)(X=n.a)==null||X.apply()}),B.first=e.first&&e.first.e,B.last=d&&d.e}function Ne(s,e,a,f){f&O&&F(s.v,e),f&y?F(s.i,a):s.i=a}function Z(s,e,a,f,u,v,i,p,o,A){var c=(o&O)!==0,I=(o&Ee)===0,x=c?I?he(u):G(u):u,r=o&y?G(i):i,l={i:r,v:x,k:v,a:null,e:null,prev:a,next:f};try{return l.e=W(()=>p(s,x,r),w),l.e.prev=a&&a.e,l.e.next=f&&f.e,a===null?e.first=l:(a.next=l,a.e.next=l.e),f!==null&&(f.prev=l,f.e.prev=l.e),l}finally{}}function J(s,e,a){for(var f=s.next?s.next.e.nodes_start:a,u=e?e.e.nodes_start:a,v=s.e.nodes_start;v!==f;){var i=pe(v);u.before(v),v=i}}function C(s,e,a){e===null?s.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Me(s,e,a){Te(()=>{var f=Ae(()=>e(s,a==null?void 0:a())||{});if(a&&(f!=null&&f.update)){var u=!1,v={};Ie(()=>{var i=a();xe(i),u&&me(v,i)&&(v=i,f.update(i))}),u=!0}if(f!=null&&f.destroy)return()=>f.destroy()})}export{Me as a,He as e,Se as i};
